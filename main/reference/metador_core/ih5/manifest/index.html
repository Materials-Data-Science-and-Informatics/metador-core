
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Core of Metador, the metadata-first research data management framework.">
      
      
      
        <link rel="canonical" href="https://materials-data-science-and-informatics.github.io/metador-core/main/reference/metador_core/ih5/manifest/">
      
      
        <link rel="prev" href="../container/">
      
      
        <link rel="next" href="../overlay/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.7">
    
    
      
        <title>manifest - metador-core</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_markdown_exec_ansi.css">
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../css/style.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#metador_core.ih5.manifest" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  This page is for an outdated or development version.
  <a href="../../../../..">
    <strong>Click here to go to the latest stable version.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="metador-core" class="md-header__button md-logo" aria-label="metador-core" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            metador-core
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              manifest
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Materials-Data-Science-and-Informatics/metador-core" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Materials-Data-Science-and-Informatics/metador-core
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../.." class="md-tabs__link">
          
  
  Home

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../../quickstart/" class="md-tabs__link">
          
  
  Usage

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../contributing/" class="md-tabs__link">
          
  
  Development

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="metador-core" class="md-nav__button md-logo" aria-label="metador-core" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    metador-core
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Materials-Data-Science-and-Informatics/metador-core" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Materials-Data-Science-and-Informatics/metador-core
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Home
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../credits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Usage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Notebooks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Notebooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../notebooks/about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../notebooks/01_MetadorContainer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating a MetadorContainer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../notebooks/02_YourFirstMetadorPlugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing Metador Plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../notebooks/03_Schemas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Designing Metadata Schemas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../notebooks/03b_SemanticsInteroperability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Semantics and Interoperability
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    metador_core
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1" id="__nav_2_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3_1">
            <span class="md-nav__icon md-icon"></span>
            metador_core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cli/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    cli
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_1" id="__nav_2_3_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_1">
            <span class="md-nav__icon md-icon"></span>
            cli
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/general/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    general
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../container/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    container
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_2" id="__nav_2_3_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            container
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../container/drivers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    drivers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../container/interface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../container/provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../container/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../container/wrappers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wrappers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../harvester/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    harvester
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_3" id="__nav_2_3_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            harvester
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../harvester/common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    common
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ih5
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_4" id="__nav_2_3_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3_1_4">
            <span class="md-nav__icon md-icon"></span>
            ih5
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../container/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    container
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    manifest
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    manifest
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest" class="md-nav__link">
    manifest
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5Manifest" class="md-nav__link">
    IH5Manifest
  </a>
  
    <nav class="md-nav" aria-label="IH5Manifest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5Manifest.from_userblock" class="md-nav__link">
    from_userblock()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5Manifest.__bytes__" class="md-nav__link">
    __bytes__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5Manifest.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest" class="md-nav__link">
    IH5UBExtManifest
  </a>
  
    <nav class="md-nav" aria-label="IH5UBExtManifest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest.is_stub_container" class="md-nav__link">
    is_stub_container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest.manifest_uuid" class="md-nav__link">
    manifest_uuid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest.manifest_hashsum" class="md-nav__link">
    manifest_hashsum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest.ext_name" class="md-nav__link">
    ext_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5MFRecord" class="md-nav__link">
    IH5MFRecord
  </a>
  
    <nav class="md-nav" aria-label="IH5MFRecord">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5MFRecord.manifest" class="md-nav__link">
    manifest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5MFRecord.create_stub" class="md-nav__link">
    create_stub()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../overlay/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    overlay
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../record/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    record
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../skeleton/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    skeleton
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../packer/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    packer
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_5" id="__nav_2_3_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_5">
            <span class="md-nav__icon md-icon"></span>
            packer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../packer/example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../packer/types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../packer/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../plugin/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    plugin
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_6" id="__nav_2_3_1_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_6">
            <span class="md-nav__icon md-icon"></span>
            plugin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../plugin/entrypoints/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    entrypoints
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../plugin/interface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../plugin/metaclass/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    metaclass
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../plugin/types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../plugin/util/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    util
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../rdf/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    rdf
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_8" id="__nav_2_3_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_8">
            <span class="md-nav__icon md-icon"></span>
            rdf
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../rdf/lib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lib
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../rdf/skos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    skos
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../schema/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    schema
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_9" id="__nav_2_3_1_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_9">
            <span class="md-nav__icon md-icon"></span>
            schema
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_9_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../schema/common/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    common
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_9_2" id="__nav_2_3_1_9_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_3_1_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_9_2">
            <span class="md-nav__icon md-icon"></span>
            common
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/common/rocrate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rocrate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/common/schemaorg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    schemaorg
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    core
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/decorators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    decorators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/encoder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    encoder
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_9_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../schema/examples/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    examples
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_9_6" id="__nav_2_3_1_9_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_3_1_9_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_9_6">
            <span class="md-nav__icon md-icon"></span>
            examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/examples/matsci/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    matsci
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/inspect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    inspect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/jsonschema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsonschema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/ld/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ld
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/parser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    parser
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/partial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    partial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/pg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pg
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../schema/types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    types
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../util/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    util
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_10" id="__nav_2_3_1_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_10">
            <span class="md-nav__icon md-icon"></span>
            util
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../util/diff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    diff
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../util/enum/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    enum
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../util/hashsums/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hashsums
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../util/models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../util/pytest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pytest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../util/types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../util/typing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    typing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../widget/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    widget
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_11" id="__nav_2_3_1_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_11">
            <span class="md-nav__icon md-icon"></span>
            widget
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../widget/common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    common
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../widget/dashboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dashboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1_11_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../widget/jupyter/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    jupyter
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1_11_3" id="__nav_2_3_1_11_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_3_1_11_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1_11_3">
            <span class="md-nav__icon md-icon"></span>
            jupyter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../widget/jupyter/standalone/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    standalone
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../widget/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    server
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Development
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How To Contribute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../dev_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../code_of_conduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code of Conduct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../../coverage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coverage Report
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest" class="md-nav__link">
    manifest
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5Manifest" class="md-nav__link">
    IH5Manifest
  </a>
  
    <nav class="md-nav" aria-label="IH5Manifest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5Manifest.from_userblock" class="md-nav__link">
    from_userblock()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5Manifest.__bytes__" class="md-nav__link">
    __bytes__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5Manifest.save" class="md-nav__link">
    save()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest" class="md-nav__link">
    IH5UBExtManifest
  </a>
  
    <nav class="md-nav" aria-label="IH5UBExtManifest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest.is_stub_container" class="md-nav__link">
    is_stub_container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest.manifest_uuid" class="md-nav__link">
    manifest_uuid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest.manifest_hashsum" class="md-nav__link">
    manifest_hashsum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest.ext_name" class="md-nav__link">
    ext_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest.get" class="md-nav__link">
    get()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5UBExtManifest.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5MFRecord" class="md-nav__link">
    IH5MFRecord
  </a>
  
    <nav class="md-nav" aria-label="IH5MFRecord">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5MFRecord.manifest" class="md-nav__link">
    manifest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metador_core.ih5.manifest.IH5MFRecord.create_stub" class="md-nav__link">
    create_stub()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/Materials-Data-Science-and-Informatics/metador-core/blob/main/docs/src/metador_core/ih5/manifest.py" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/Materials-Data-Science-and-Informatics/metador-core/raw/main/docs/src/metador_core/ih5/manifest.py" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


  <h1>manifest</h1>

<div class="doc doc-object doc-module">



<a id="metador_core.ih5.manifest"></a>
  <div class="doc doc-contents first">
  
      <p>Sidecar JSON file storing a skeleton to create stubs and patch containers.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h2 id="metador_core.ih5.manifest.IH5Manifest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">IH5Manifest</span>


<a href="#metador_core.ih5.manifest.IH5Manifest" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>A metadata sidecar file for a collection of IH5 record files.</p>
<p>It contains the skeleton of the container, in order to be able to create a
patch for an IH5Record the data is not locally available for (but manifest is).</p>

            <details class="quote">
              <summary>Source code in <code>src/metador_core/ih5/manifest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">IH5Manifest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A metadata sidecar file for a collection of IH5 record files.</span>

<span class="sd">    It contains the skeleton of the container, in order to be able to create a</span>
<span class="sd">    patch for an IH5Record the data is not locally available for (but manifest is).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># uuid for the manifest file itself (so the filename does not matter)</span>
    <span class="n">manifest_uuid</span><span class="p">:</span> <span class="n">UUID</span>

    <span class="n">user_block</span><span class="p">:</span> <span class="n">IH5UserBlock</span>  <span class="c1"># copy of user block (without the manifest extension part)</span>

    <span class="n">skeleton</span><span class="p">:</span> <span class="n">IH5Skeleton</span>  <span class="c1"># computed with IH5Skeleton, used to create a stub</span>

    <span class="n">manifest_exts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>  <span class="c1"># Arbitrary extensions, similar to IH5UserBlock</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_userblock</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ub</span><span class="p">:</span> <span class="n">IH5UserBlock</span><span class="p">,</span> <span class="n">skeleton</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exts</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IH5Manifest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a manifest file based on a user block.&quot;&quot;&quot;</span>
        <span class="n">skeleton</span> <span class="o">=</span> <span class="n">skeleton</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">exts</span> <span class="o">=</span> <span class="n">exts</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">ub_copy</span> <span class="o">=</span> <span class="n">ub</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="c1"># only keep other extensions (otherwise its circular)</span>
        <span class="n">ub_copy</span><span class="o">.</span><span class="n">ub_exts</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">ub</span><span class="o">.</span><span class="n">ub_exts</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="n">IH5UBExtManifest</span><span class="o">.</span><span class="n">ext_name</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">manifest_uuid</span><span class="o">=</span><span class="n">uuid1</span><span class="p">(),</span>
            <span class="n">user_block</span><span class="o">=</span><span class="n">ub_copy</span><span class="p">,</span>
            <span class="n">skeleton</span><span class="o">=</span><span class="n">skeleton</span><span class="p">,</span>
            <span class="n">manifest_exts</span><span class="o">=</span><span class="n">exts</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__bytes__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize to JSON and return UTF-8 encoded bytes to be written in a file.&quot;&quot;&quot;</span>
        <span class="c1"># add a newline, as otherwise behaviour with text editors will be confusing</span>
        <span class="c1"># (e.g. vim automatically adds a trailing newline that it hides)</span>
        <span class="c1"># https://stackoverflow.com/questions/729692/why-should-text-files-end-with-a-newline</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Save manifest (as returned by bytes()) into a file.&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
            <span class="n">f</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h3 id="metador_core.ih5.manifest.IH5Manifest.from_userblock" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">from_userblock</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#metador_core.ih5.manifest.IH5Manifest.from_userblock" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">from_userblock</span><span class="p">(</span>
    <span class="n">ub</span><span class="p">:</span> <span class="n">IH5UserBlock</span><span class="p">,</span> <span class="n">skeleton</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exts</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IH5Manifest</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a manifest file based on a user block.</p>

          <details class="quote">
            <summary>Source code in <code>src/metador_core/ih5/manifest.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_userblock</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ub</span><span class="p">:</span> <span class="n">IH5UserBlock</span><span class="p">,</span> <span class="n">skeleton</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exts</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IH5Manifest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a manifest file based on a user block.&quot;&quot;&quot;</span>
    <span class="n">skeleton</span> <span class="o">=</span> <span class="n">skeleton</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">exts</span> <span class="o">=</span> <span class="n">exts</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">ub_copy</span> <span class="o">=</span> <span class="n">ub</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="c1"># only keep other extensions (otherwise its circular)</span>
    <span class="n">ub_copy</span><span class="o">.</span><span class="n">ub_exts</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">ub</span><span class="o">.</span><span class="n">ub_exts</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="n">IH5UBExtManifest</span><span class="o">.</span><span class="n">ext_name</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">manifest_uuid</span><span class="o">=</span><span class="n">uuid1</span><span class="p">(),</span>
        <span class="n">user_block</span><span class="o">=</span><span class="n">ub_copy</span><span class="p">,</span>
        <span class="n">skeleton</span><span class="o">=</span><span class="n">skeleton</span><span class="p">,</span>
        <span class="n">manifest_exts</span><span class="o">=</span><span class="n">exts</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="metador_core.ih5.manifest.IH5Manifest.__bytes__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__bytes__</span>


<a href="#metador_core.ih5.manifest.IH5Manifest.__bytes__" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="fm">__bytes__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bytes</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Serialize to JSON and return UTF-8 encoded bytes to be written in a file.</p>

          <details class="quote">
            <summary>Source code in <code>src/metador_core/ih5/manifest.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__bytes__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize to JSON and return UTF-8 encoded bytes to be written in a file.&quot;&quot;&quot;</span>
    <span class="c1"># add a newline, as otherwise behaviour with text editors will be confusing</span>
    <span class="c1"># (e.g. vim automatically adds a trailing newline that it hides)</span>
    <span class="c1"># https://stackoverflow.com/questions/729692/why-should-text-files-end-with-a-newline</span>
    <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="metador_core.ih5.manifest.IH5Manifest.save" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">save</span>


<a href="#metador_core.ih5.manifest.IH5Manifest.save" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">save</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Save manifest (as returned by bytes()) into a file.</p>

          <details class="quote">
            <summary>Source code in <code>src/metador_core/ih5/manifest.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Save manifest (as returned by bytes()) into a file.&quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
        <span class="n">f</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h2 id="metador_core.ih5.manifest.IH5UBExtManifest" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">IH5UBExtManifest</span>


<a href="#metador_core.ih5.manifest.IH5UBExtManifest" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>

  
      <p>IH5 user block extension for stub and manifest support.</p>

            <details class="quote">
              <summary>Source code in <code>src/metador_core/ih5/manifest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">IH5UBExtManifest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;IH5 user block extension for stub and manifest support.&quot;&quot;&quot;</span>

    <span class="n">is_stub_container</span><span class="p">:</span> <span class="nb">bool</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;True if file has the structure of another container, without actual data inside.&quot;&quot;&quot;</span>

    <span class="n">manifest_uuid</span><span class="p">:</span> <span class="n">UUID</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;UUID of the manifest file that belongs to this IH5 file.&quot;&quot;&quot;</span>

    <span class="n">manifest_hashsum</span><span class="p">:</span> <span class="n">QualHashsumStr</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hashsum of the manifest file that belongs to this IH5 file.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">ext_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Name of user block extension section for stub and manifest info.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;ih5mf_v01&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ub</span><span class="p">:</span> <span class="n">IH5UserBlock</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">IH5UBExtManifest</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse extension metadata from userblock, if it is available.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">ext_name</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ub</span><span class="o">.</span><span class="n">ub_exts</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">ub_exts</span><span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="n">ext_name</span><span class="p">()])</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ub</span><span class="p">:</span> <span class="n">IH5UserBlock</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create or overwrite extension metadata in given userblock.&quot;&quot;&quot;</span>
        <span class="n">ub</span><span class="o">.</span><span class="n">ub_exts</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ext_name</span><span class="p">()]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h3 id="metador_core.ih5.manifest.IH5UBExtManifest.is_stub_container" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">is_stub_container</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#metador_core.ih5.manifest.IH5UBExtManifest.is_stub_container" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">is_stub_container</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>True if file has the structure of another container, without actual data inside.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h3 id="metador_core.ih5.manifest.IH5UBExtManifest.manifest_uuid" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">manifest_uuid</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#metador_core.ih5.manifest.IH5UBExtManifest.manifest_uuid" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">manifest_uuid</span><span class="p">:</span> <span class="n">UUID</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>UUID of the manifest file that belongs to this IH5 file.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h3 id="metador_core.ih5.manifest.IH5UBExtManifest.manifest_hashsum" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">manifest_hashsum</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#metador_core.ih5.manifest.IH5UBExtManifest.manifest_hashsum" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">manifest_hashsum</span><span class="p">:</span> <span class="n">QualHashsumStr</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Hashsum of the manifest file that belongs to this IH5 file.</p>
  </div>

</div>




<div class="doc doc-object doc-function">




<h3 id="metador_core.ih5.manifest.IH5UBExtManifest.ext_name" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">ext_name</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#metador_core.ih5.manifest.IH5UBExtManifest.ext_name" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">ext_name</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Name of user block extension section for stub and manifest info.</p>

          <details class="quote">
            <summary>Source code in <code>src/metador_core/ih5/manifest.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">ext_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Name of user block extension section for stub and manifest info.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;ih5mf_v01&quot;</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="metador_core.ih5.manifest.IH5UBExtManifest.get" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#metador_core.ih5.manifest.IH5UBExtManifest.get" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get</span><span class="p">(</span><span class="n">ub</span><span class="p">:</span> <span class="n">IH5UserBlock</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">IH5UBExtManifest</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Parse extension metadata from userblock, if it is available.</p>

          <details class="quote">
            <summary>Source code in <code>src/metador_core/ih5/manifest.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ub</span><span class="p">:</span> <span class="n">IH5UserBlock</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">IH5UBExtManifest</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse extension metadata from userblock, if it is available.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">ext_name</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ub</span><span class="o">.</span><span class="n">ub_exts</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parse_obj</span><span class="p">(</span><span class="n">ub</span><span class="o">.</span><span class="n">ub_exts</span><span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="n">ext_name</span><span class="p">()])</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="metador_core.ih5.manifest.IH5UBExtManifest.update" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">update</span>


<a href="#metador_core.ih5.manifest.IH5UBExtManifest.update" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">update</span><span class="p">(</span><span class="n">ub</span><span class="p">:</span> <span class="n">IH5UserBlock</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create or overwrite extension metadata in given userblock.</p>

          <details class="quote">
            <summary>Source code in <code>src/metador_core/ih5/manifest.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ub</span><span class="p">:</span> <span class="n">IH5UserBlock</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create or overwrite extension metadata in given userblock.&quot;&quot;&quot;</span>
    <span class="n">ub</span><span class="o">.</span><span class="n">ub_exts</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ext_name</span><span class="p">()]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h2 id="metador_core.ih5.manifest.IH5MFRecord" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">IH5MFRecord</span>


<a href="#metador_core.ih5.manifest.IH5MFRecord" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="metador_core.ih5.record.IH5Record" href="../record/#metador_core.ih5.record.IH5Record">IH5Record</a></code></p>

  
      <p>IH5Record extended by a manifest file.</p>
<p>The manifest file is a sidcar JSON file that contains enough information to support
the creation of a stub container and patching a dataset without having the actual
container locally available.</p>
<p>In a chain of container files, only the base container may be a stub.
All files without the manifest extension in the userblock are considered not stubs.</p>
<p>An IH5MFRecord is a valid IH5Record (the manifest file then is simply ignored).
Also, it is possible to open an IH5Record as IH5MFRecord and turn it into a
valid IH5MFRecord by committing a patch (this will create the missing manifest).</p>
<p>In addition to the ability to create stubs, the manifest file can be used to carry
information that should be attached to a container, but is too large or inappropriate
for storage in the userblock (e.g. should be available separately).</p>
<p>The manifest should store information that applies semantically to the whole fileset
at the current patch level, it MUST NOT be required to have manifest files for each
ih5 patch. Additional information stored in the manifest is inherited to the
manifest of successive patches until overridden.</p>
<p>The main use case of this extension is to be used by automated packers
from suitably prepared source directories, to be uploaded to remote locations,
and for these packers being able to create patches for the record without
access to all the data containers (based only on the most recent manifest file).</p>

            <details class="quote">
              <summary>Source code in <code>src/metador_core/ih5/manifest.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">IH5MFRecord</span><span class="p">(</span><span class="n">IH5Record</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;IH5Record extended by a manifest file.</span>

<span class="sd">    The manifest file is a sidcar JSON file that contains enough information to support</span>
<span class="sd">    the creation of a stub container and patching a dataset without having the actual</span>
<span class="sd">    container locally available.</span>

<span class="sd">    In a chain of container files, only the base container may be a stub.</span>
<span class="sd">    All files without the manifest extension in the userblock are considered not stubs.</span>

<span class="sd">    An IH5MFRecord is a valid IH5Record (the manifest file then is simply ignored).</span>
<span class="sd">    Also, it is possible to open an IH5Record as IH5MFRecord and turn it into a</span>
<span class="sd">    valid IH5MFRecord by committing a patch (this will create the missing manifest).</span>

<span class="sd">    In addition to the ability to create stubs, the manifest file can be used to carry</span>
<span class="sd">    information that should be attached to a container, but is too large or inappropriate</span>
<span class="sd">    for storage in the userblock (e.g. should be available separately).</span>

<span class="sd">    The manifest should store information that applies semantically to the whole fileset</span>
<span class="sd">    at the current patch level, it MUST NOT be required to have manifest files for each</span>
<span class="sd">    ih5 patch. Additional information stored in the manifest is inherited to the</span>
<span class="sd">    manifest of successive patches until overridden.</span>

<span class="sd">    The main use case of this extension is to be used by automated packers</span>
<span class="sd">    from suitably prepared source directories, to be uploaded to remote locations,</span>
<span class="sd">    and for these packers being able to create patches for the record without</span>
<span class="sd">    access to all the data containers (based only on the most recent manifest file).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">MANIFEST_EXT</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mf.json&quot;</span>

    <span class="n">_manifest</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">IH5Manifest</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Manifest of newest loaded container file (only None for new uncommited records).&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">manifest</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IH5Manifest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return loaded manifest object of latest committed record patch.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># should only happen with fresh create()d records</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No manifest exists yet! Did you forget to commit?&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest</span>

    <span class="k">def</span> <span class="nf">_fresh_manifest</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IH5Manifest</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return new manifest based on current state of the record.&quot;&quot;&quot;</span>
        <span class="n">ub</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ublock</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">skel</span> <span class="o">=</span> <span class="n">IH5Skeleton</span><span class="o">.</span><span class="n">for_record</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">IH5Manifest</span><span class="o">.</span><span class="n">from_userblock</span><span class="p">(</span><span class="n">ub</span><span class="p">,</span> <span class="n">skeleton</span><span class="o">=</span><span class="n">skel</span><span class="p">,</span> <span class="n">exts</span><span class="o">=</span><span class="p">{})</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_manifest_filepath</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return canonical filename of manifest based on path of a container file.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">record</span><span class="p">)</span><span class="si">}{</span><span class="bp">cls</span><span class="o">.</span><span class="n">MANIFEST_EXT</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Override to also load and check latest manifest</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_open</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">paths</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Path</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">manifest_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;manifest_file&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">ret</span><span class="p">:</span> <span class="n">IH5MFRecord</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_open</span><span class="p">(</span><span class="n">paths</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1"># if not given explicitly, infer correct manifest filename</span>
        <span class="c1"># based on logically latest container (they are sorted after parent init)</span>
        <span class="k">if</span> <span class="n">manifest_file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">manifest_file</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_manifest_filepath</span><span class="p">(</span><span class="n">ret</span><span class="o">.</span><span class="n">_files</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span>

        <span class="c1"># for latest container, check linked manifest (if any) against given/inferred one</span>
        <span class="n">ub</span> <span class="o">=</span> <span class="n">ret</span><span class="o">.</span><span class="n">_ublock</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">ubext</span> <span class="o">=</span> <span class="n">IH5UBExtManifest</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ub</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ubext</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">manifest_file</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Manifest file </span><span class="si">{</span><span class="n">manifest_file</span><span class="si">}</span><span class="s2"> does not exist, cannot open!&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ret</span><span class="o">.</span><span class="n">_files</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">filename</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">chksum</span> <span class="o">=</span> <span class="n">hashsum_file</span><span class="p">(</span><span class="n">manifest_file</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ubext</span><span class="o">.</span><span class="n">manifest_hashsum</span> <span class="o">!=</span> <span class="n">chksum</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Manifest has been modified, unexpected hashsum!&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ret</span><span class="o">.</span><span class="n">_files</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">filename</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">ret</span><span class="o">.</span><span class="n">_manifest</span> <span class="o">=</span> <span class="n">IH5Manifest</span><span class="o">.</span><span class="n">parse_file</span><span class="p">(</span><span class="n">manifest_file</span><span class="p">)</span>
            <span class="c1"># NOTE: as long as we enforce checksum of manifest, this failure can&#39;t happen:</span>
            <span class="c1"># if ubext.manifest_uuid != self._manifest.manifest_uuid:</span>
            <span class="c1">#     raise ValueError(f&quot;{ub._filename}: Manifest file has wrong UUID!&quot;)</span>
        <span class="c1"># all looks good</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="c1"># Override to also check user block extension</span>
    <span class="k">def</span> <span class="nf">_check_ublock</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">ub</span><span class="p">:</span> <span class="n">IH5UserBlock</span><span class="p">,</span>
        <span class="n">prev</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">IH5UserBlock</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">check_hashsum</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_check_ublock</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">ub</span><span class="p">,</span> <span class="n">prev</span><span class="p">,</span> <span class="n">check_hashsum</span><span class="p">)</span>
        <span class="c1"># Try getting manifest info in the userblock.</span>
        <span class="c1"># If it is missing, probably we&#39;re opening a &quot;raw&quot; IH5Record or a messed up mix</span>
        <span class="n">ubext</span> <span class="o">=</span> <span class="n">IH5UBExtManifest</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ub</span><span class="p">)</span>
        <span class="c1"># we only allow to write patches on top of stubs,</span>
        <span class="c1"># but not have stubs on top of something else.</span>
        <span class="c1"># If something creates a patch that is (marked as) a stub, its a developer error.</span>
        <span class="c1"># If the ub ext is missing, then we must assume that it is not a stub.</span>
        <span class="k">assert</span> <span class="n">prev</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">ubext</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">ubext</span><span class="o">.</span><span class="n">is_stub_container</span>

    <span class="k">def</span> <span class="nf">_fixes_after_merge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">ub</span><span class="p">):</span>
        <span class="c1"># if a manifest exists for the current dataset,</span>
        <span class="c1"># copy its manifest to overwrite the fresh one of the merged container</span>
        <span class="c1"># and fix its user block</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># check that new userblock inherited the original linked manifest</span>
            <span class="n">ext</span> <span class="o">=</span> <span class="n">IH5UBExtManifest</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ub</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">ext</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">ext</span><span class="o">.</span><span class="n">manifest_uuid</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">manifest_uuid</span>
            <span class="c1"># overwrite the &quot;fresh&quot; manifest from merge with the original one</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_manifest_filepath</span><span class="p">(</span><span class="n">file</span><span class="p">))</span>

    <span class="c1"># Override to prevent merge if a stub is present</span>
    <span class="k">def</span> <span class="nf">merge_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">is_stub</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="n">ext</span> <span class="o">=</span> <span class="n">IH5UBExtManifest</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="c1"># missing ext -&gt; not a stub (valid stub has ext + is marked as stub)</span>
            <span class="k">return</span> <span class="n">ext</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">ext</span><span class="o">.</span><span class="n">is_stub_container</span>

        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">is_stub</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ih5_meta</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot merge, files contain a stub!&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">merge_files</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>

    <span class="c1"># Override to create skeleton and dir hashsums, write manifest and add to user block</span>
    <span class="c1"># Will inherit old manifest extensions, unless overridden by passed argument</span>
    <span class="k">def</span> <span class="nf">commit_patch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># is_stub == True only if called from create_stub!!! (NOT for the &quot;end-user&quot;!)</span>
        <span class="n">is_stub</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;__is_stub__&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="n">exts</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;manifest_exts&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="c1"># create manifest for the new patch</span>
        <span class="n">mf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fresh_manifest</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_manifest</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># inherit attached data, if manifest exists</span>
            <span class="n">mf</span><span class="o">.</span><span class="n">manifest_exts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">manifest</span><span class="o">.</span><span class="n">manifest_exts</span>
        <span class="k">if</span> <span class="n">exts</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># override, if extensions provided</span>
            <span class="n">mf</span><span class="o">.</span><span class="n">manifest_exts</span> <span class="o">=</span> <span class="n">exts</span>

        <span class="n">old_ub</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ublock</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># keep ref in case anything goes wrong</span>
        <span class="c1"># prepare new user block that links to the prospective manifest</span>
        <span class="n">new_ub</span> <span class="o">=</span> <span class="n">old_ub</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">IH5UBExtManifest</span><span class="p">(</span>
            <span class="n">is_stub_container</span><span class="o">=</span><span class="n">is_stub</span><span class="p">,</span>
            <span class="n">manifest_uuid</span><span class="o">=</span><span class="n">mf</span><span class="o">.</span><span class="n">manifest_uuid</span><span class="p">,</span>
            <span class="n">manifest_hashsum</span><span class="o">=</span><span class="n">qualified_hashsum</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">mf</span><span class="p">)),</span>
        <span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">new_ub</span><span class="p">)</span>

        <span class="c1"># try writing new container</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_ublock</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">new_ub</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">commit_patch</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  <span class="c1"># some checks failed</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_ublock</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">old_ub</span><span class="p">)</span>  <span class="c1"># reset current user block</span>
            <span class="k">raise</span> <span class="n">e</span>

        <span class="c1"># as everything is fine, finally (over)write manifest here and on disk</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_manifest</span> <span class="o">=</span> <span class="n">mf</span>
        <span class="n">mf</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_manifest_filepath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_files</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">filename</span><span class="p">))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_stub</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">record</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
        <span class="n">manifest_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IH5MFRecord</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a stub base container for patching an existing but unavailable record.</span>

<span class="sd">        The stub is based on the user block of a real IH5 record container line</span>
<span class="sd">        and the skeleton of the overlay structure (as returned by `IH5Skeleton`),</span>
<span class="sd">        which are taken from a provided manifest file.</span>

<span class="sd">        Patches created on top of the stub are compatible with the original record</span>
<span class="sd">        whose metadata the stub is based on.</span>

<span class="sd">        The returned container is read-only and only serves as base for patches.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">manifest</span> <span class="o">=</span> <span class="n">IH5Manifest</span><span class="o">.</span><span class="n">parse_file</span><span class="p">(</span><span class="n">manifest_file</span><span class="p">)</span>

        <span class="n">skeleton</span><span class="p">:</span> <span class="n">IH5Skeleton</span> <span class="o">=</span> <span class="n">manifest</span><span class="o">.</span><span class="n">skeleton</span>
        <span class="n">user_block</span><span class="p">:</span> <span class="n">IH5UserBlock</span> <span class="o">=</span> <span class="n">manifest</span><span class="o">.</span><span class="n">user_block</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="c1"># the manifest-stored user block has no manifest extension itself - create new</span>
        <span class="c1"># based on passed manifest.</span>
        <span class="c1"># mark it as stub in extra metadata now! important to avoid accidents!</span>
        <span class="c1"># must pass it in like that, because the container will be auto-commited.</span>
        <span class="n">ubext</span> <span class="o">=</span> <span class="n">IH5UBExtManifest</span><span class="p">(</span>
            <span class="n">is_stub_container</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># &lt;- the ONLY place where this is allowed!</span>
            <span class="n">manifest_uuid</span><span class="o">=</span><span class="n">manifest</span><span class="o">.</span><span class="n">manifest_uuid</span><span class="p">,</span>
            <span class="n">manifest_hashsum</span><span class="o">=</span><span class="n">hashsum_file</span><span class="p">(</span><span class="n">manifest_file</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">ubext</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">user_block</span><span class="p">)</span>

        <span class="c1"># create and finalize the stub (override userblock and create skeleton structure)</span>
        <span class="n">ds</span> <span class="o">=</span> <span class="n">IH5MFRecord</span><span class="o">.</span><span class="n">_create</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">record</span><span class="p">))</span>
        <span class="n">init_stub_base</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">user_block</span><span class="p">,</span> <span class="n">skeleton</span><span class="p">)</span>  <span class="c1"># prepares structure and user block</span>
        <span class="c1"># commit_patch() completes stub + fixes the hashsum</span>
        <span class="n">ds</span><span class="o">.</span><span class="n">commit_patch</span><span class="p">(</span><span class="n">__is_stub__</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="n">ds</span><span class="o">.</span><span class="n">_has_writable</span>

        <span class="k">return</span> <span class="n">ds</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h3 id="metador_core.ih5.manifest.IH5MFRecord.manifest" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">manifest</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#metador_core.ih5.manifest.IH5MFRecord.manifest" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">manifest</span><span class="p">:</span> <span class="n">IH5Manifest</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return loaded manifest object of latest committed record patch.</p>
  </div>

</div>




<div class="doc doc-object doc-function">




<h3 id="metador_core.ih5.manifest.IH5MFRecord.create_stub" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">create_stub</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#metador_core.ih5.manifest.IH5MFRecord.create_stub" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">create_stub</span><span class="p">(</span>
    <span class="n">record</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">manifest_file</span><span class="p">:</span> <span class="n">Path</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IH5MFRecord</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a stub base container for patching an existing but unavailable record.</p>
<p>The stub is based on the user block of a real IH5 record container line
and the skeleton of the overlay structure (as returned by <code>IH5Skeleton</code>),
which are taken from a provided manifest file.</p>
<p>Patches created on top of the stub are compatible with the original record
whose metadata the stub is based on.</p>
<p>The returned container is read-only and only serves as base for patches.</p>

          <details class="quote">
            <summary>Source code in <code>src/metador_core/ih5/manifest.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">create_stub</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">record</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="n">manifest_file</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IH5MFRecord</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a stub base container for patching an existing but unavailable record.</span>

<span class="sd">    The stub is based on the user block of a real IH5 record container line</span>
<span class="sd">    and the skeleton of the overlay structure (as returned by `IH5Skeleton`),</span>
<span class="sd">    which are taken from a provided manifest file.</span>

<span class="sd">    Patches created on top of the stub are compatible with the original record</span>
<span class="sd">    whose metadata the stub is based on.</span>

<span class="sd">    The returned container is read-only and only serves as base for patches.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">manifest</span> <span class="o">=</span> <span class="n">IH5Manifest</span><span class="o">.</span><span class="n">parse_file</span><span class="p">(</span><span class="n">manifest_file</span><span class="p">)</span>

    <span class="n">skeleton</span><span class="p">:</span> <span class="n">IH5Skeleton</span> <span class="o">=</span> <span class="n">manifest</span><span class="o">.</span><span class="n">skeleton</span>
    <span class="n">user_block</span><span class="p">:</span> <span class="n">IH5UserBlock</span> <span class="o">=</span> <span class="n">manifest</span><span class="o">.</span><span class="n">user_block</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="c1"># the manifest-stored user block has no manifest extension itself - create new</span>
    <span class="c1"># based on passed manifest.</span>
    <span class="c1"># mark it as stub in extra metadata now! important to avoid accidents!</span>
    <span class="c1"># must pass it in like that, because the container will be auto-commited.</span>
    <span class="n">ubext</span> <span class="o">=</span> <span class="n">IH5UBExtManifest</span><span class="p">(</span>
        <span class="n">is_stub_container</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># &lt;- the ONLY place where this is allowed!</span>
        <span class="n">manifest_uuid</span><span class="o">=</span><span class="n">manifest</span><span class="o">.</span><span class="n">manifest_uuid</span><span class="p">,</span>
        <span class="n">manifest_hashsum</span><span class="o">=</span><span class="n">hashsum_file</span><span class="p">(</span><span class="n">manifest_file</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">ubext</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">user_block</span><span class="p">)</span>

    <span class="c1"># create and finalize the stub (override userblock and create skeleton structure)</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">IH5MFRecord</span><span class="o">.</span><span class="n">_create</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">record</span><span class="p">))</span>
    <span class="n">init_stub_base</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">user_block</span><span class="p">,</span> <span class="n">skeleton</span><span class="p">)</span>  <span class="c1"># prepares structure and user block</span>
    <span class="c1"># commit_patch() completes stub + fixes the hashsum</span>
    <span class="n">ds</span><span class="o">.</span><span class="n">commit_patch</span><span class="p">(</span><span class="n">__is_stub__</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">ds</span><span class="o">.</span><span class="n">_has_writable</span>

    <span class="k">return</span> <span class="n">ds</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../container/" class="md-footer__link md-footer__link--prev" aria-label="Previous: container">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                container
              </div>
            </div>
          </a>
        
        
          
          <a href="../overlay/" class="md-footer__link md-footer__link--next" aria-label="Next: overlay">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                overlay
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <!-- Copyright and theme information -->
<div class="md-copyright">
  
  
    Made with
    <a
      href="https://squidfunk.github.io/mkdocs-material/"
      target="_blank" rel="noopener"
    >
      Material for MkDocs
    </a>
    <!-- added link to project template -->
    and
    <a
      href="https://github.com/Materials-Data-Science-and-Informatics/fair-python-cookiecutter"
      target="_blank" rel="noopener"
    >
      fair-python-cookiecutter
    </a>
    <!-- ------------------------------ -->
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/Materials-Data-Science-and-Informatics" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/Materials-Data-Science-and-Informatics" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64h185.4c2.2 20.4 3.3 41.8 3.3 64zm28.8-64h123.1c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7zm-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6zM8.1 192h123.1c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zm186.6 254.6c-11.6-26-20.9-58.2-27-94.6h176.6c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5-11.2 10.7-20.5 13.9-27.8 13.9s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6h116.7zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6h116.6z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "header.autohide", "navigation.footer", "navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.top", "search.highlight", "search.suggest"], "search": "../../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  </body>
</html>